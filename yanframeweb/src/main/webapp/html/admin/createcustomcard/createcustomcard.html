<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml">

<body th:fragment="maincontent">
<style>

    .createcardbody {
        padding: 10px;
    }

</style>
<div>
    <form class="layui-form formcreatecard" method="post" th:action="@{/IndexController/createCtUserInfo}">
        <div class="layui-form-item">
            <label class="layui-form-label requiredcontent">会员卡号</label>
            <div class="layui-input-block">
                <input type="text" name="card_no" lay-verify="required" required placeholder="请输入会员卡号"
                       autocomplete="off" class="layui-input normalinputwidth">
            </div>
        </div>


        <div class="layui-form-item">
            <label class="layui-form-label ">会员生日</label>
            <div class="layui-input-block">
                <input type="text" name="born_day"  class="layui-input" placeholder="请选择会员生日" id="test2" readonly>
            </div>
        </div>


        <div class="layui-form-item">
            <label class="layui-form-label requiredcontent">会员姓名</label>
            <div class="layui-input-block">
                <input type="text" name="real_name" lay-verify="required" required placeholder="请输入会员姓名"
                       autocomplete="on" class="layui-input normalinputwidth">
            </div>
        </div>

        <div class="layui-form-item" pane>
            <label class="layui-form-label">性别</label>
            <div class="layui-input-block">
                <input type="radio" name="sex" value="1" title="男" checked>
                <input type="radio" name="sex" value="2" title="女">
                <input type="radio" name="sex" value="3" title="其他" disabled>
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">手机</label>
            <div class="layui-input-block">
                <input type="tel" name="mobile_phone" autocomplete="on" placeholder="请输入手机号"
                       class="layui-input normalinputwidth">
            </div>

        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">邮箱</label>
            <div class="layui-input-block">
                <input type="text" name="email" placeholder="请输入邮箱" autocomplete="on"
                       class="layui-input normalinputwidth">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">身份证</label>
            <div class="layui-input-block">
                <input type="text" name="id_card_number" autocomplete="on" placeholder="请输入身份证号"
                       class="layui-input normalinputwidth">
            </div>

        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">推荐人卡号</label>
            <div class="layui-input-block">
                <input type="tel" name="referee_card_no" placeholder="请输入推荐人卡号" autocomplete="on"
                       class="layui-input normalinputwidth">
            </div>
        </div>

        <div class="layui-form-item">
            <label class="layui-form-label">地址</label>
            <div class="layui-input-block">
                <input type="text" name="address" lay-verify="address" autocomplete="on" placeholder="请输入地址"
                       class="layui-input">
            </div>
        </div>
        <div class="layui-form-item layui-form-text">
            <label class="layui-form-label">备注</label>
            <div class="layui-input-block">
                <textarea name="remark" placeholder="请输入内容" class="layui-textarea"></textarea>
            </div>
        </div>
        <div class="layui-form-item">
            <div class="layui-input-block">
                <input type="button" class="layui-btn submitbtn" lay-submit lay-filter="formDemo" value="立即提交"></input>
                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
            </div>
        </div>
    </form>


    <br><br><br>
    <div th:include="admin/static/onload_js::onloadJs"></div>
    <!--引入js-->
    <script>

        function onloadInit() {
            $(".requiredcontent").append("<span style='color:red;'>*</span>");
        }

        layui.use(['form', 'laydate', 'element'], function () {

            onloadInit();

            var element = layui.element;

            element.init();

            var laydate = layui.laydate;
            //单控件
            laydate.render({
                elem: '#test2'
            })

            var form = layui.form;


            //事件监听 这个 可以起作用
            form.on('radio(*)', function (data) {
                alert(data)
            });


            //自定义验证规则
            form.verify({
                title: function (value) {
                    if (value.length < 5) {
                        return '标题也太短了吧';
                    }
                },
                address: function (value) {
//                     return "起作用了吗";
                }
            });

            $(".submitbtn").click(function () {
//                layer.msg(JSON.stringify($(".formcreatecard").serializeObject()));
                alert(JSON.stringify($(".formcreatecard").serializeObject()))
                $(".formcreatecard").submit();
            })
        });

    </script>
</div>


</body>
</html>

